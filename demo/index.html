<!--
@license
Copyright Â© HatioLab Inc. All rights reserved.
-->
<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>form Demo</title>
  <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>

  <link rel="import" href="../../things-scene-viewer/things-scene-viewer.html">
  <link rel="import" href="../../things-scene-viewer/things-scene-layer.html">
  <link rel="import" href="../../things-scene-viewer/things-scene-handler.html">

  <link rel="import" href="../../things-designer-elements/things-editor-properties.html">

  <link rel="import" href="./things-scene-form.html">

  <link rel="import" href="./things-theme.html">

  <style is="custom-style" include="things-theme">
    things-scene-viewer {
      display: block;
      width: 800px;
      height: 600px;
    }
  </style>
</head>

<body unresolved>

  <template is="dom-bind" id="app">
    <p>An example of <code>&lt;form&gt;</code>:</p>

    <things-scene-viewer id='scene' scene='{{scene}}' selected='{{selected}}' model='[[model]]' mode="1">
      <things-scene-layer type="selection-layer"></things-scene-layer>
      <things-scene-layer type="modeling-layer"></things-scene-layer>
      <things-scene-layer type="guide-layer"></things-scene-layer>
      <things-scene-layer type="tag-layer"></things-scene-layer>
      <things-scene-handler type="text-editor"></things-scene-handler>
      <things-scene-handler type="move-handler"></things-scene-handler>
    </things-scene-viewer>

    <p>Properties</p>
    <things-editor-properties id='props' target="{{props}}" props="[[selected.0.nature.properties]]">
    </things-editor-properties>

  </template>

  <script>
    window.addEventListener('WebComponentsReady', function (e) {
      var app = document.querySelector('#app')

      app.props = {}

      setTimeout(function () {
        app.scene.on('selected', function (after) {
          var target = after[0]
          var props = {}
          if (target) {
            target.nature.properties.forEach(function (prop) {
              var property = prop.property
              props[property] = target.model[property]
            })
          }
          app.props = props
        });
      });

      app.$.props.addEventListener('change', function () {
        app.selected[0].set(app.props)
      });

      app.model = {
        width: 800,
        height: 600,
        components: [{
          type: 'rect',
          id: 'rect-green',
          top: 50,
          left: 50,
          width: 280,
          height: 20,
          fontSize: 20,
          fillStyle: 'green',
          fontColor: 'red',
          strokeStyle: 'green',
          lineWidth: 5
        }, {
          type: 'rect',
          id: 'rect-red',
          top: 50,
          left: 350,
          width: 280,
          height: 20,
          fontSize: 20,
          fillStyle: 'red',
          fontColor: 'navy',
          strokeStyle: 'red',
          lineWidth: 1
        }, {
          type: 'form',
          top: 100,
          left: 50,
          width: 700,
          height: 450,
          method: 'POST',
          action: 'http://hatiolab.com/rest',
          name: 'search',
          backgroundColor: 'transparent',
          fillStyle: '#0000FF',
          fontColor: '#FF0000',
          strokeStyle: '#000',
          lineWidth: 5,
          components: [{
            type: 'input',
            id: 'input-01',
            top: 50,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            backgroundColor: 'transparent',
            fillStyle: '#00ff00',
            fontColor: '#FF0000',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 40,
            htmlConfig: {
              type: 'text'
            }
          }, {
            type: 'select',
            top: 50,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 2,
            htmlConfig: {
              name: 'hahaha',
              options: [{
                text: 'HAHAHA',
                value: 1
              }, {
                text: 'HOHOHO',
                value: 2
              }, {
                text: 'HEHEHE',
                value: 3
              }]
            }
          }, {
            type: 'textarea',
            top: 150,
            left: 50,
            width: 600,
            height: 100,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 'hay hay hay',
            htmlConfig: {
              name: 'hihihi',
            }
          }]
        }]
      }
    });
  </script>
</body>

</html>