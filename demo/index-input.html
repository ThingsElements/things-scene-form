<!--
@license
Copyright Â© HatioLab Inc. All rights reserved.
-->
<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>form Demo</title>
  <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>

  <link rel="import" href="../../things-scene-viewer/things-scene-viewer.html">
  <link rel="import" href="../../things-scene-viewer/things-scene-layer.html">
  <link rel="import" href="../../things-scene-viewer/things-scene-handler.html">

  <link rel="import" href="../../things-designer-elements/things-editor-properties.html">

  <link rel="import" href="./things-scene-form.html">

  <link rel="import" href="./things-theme.html">

  <style is="custom-style" include="things-theme">
    things-scene-viewer {
      display: block;
      width: 800px;
      height: 600px;
    }
  </style>
</head>

<body unresolved>

  <template is="dom-bind" id="app">
    <p>An example of <code>&lt;form&gt;</code>:</p>

    <things-scene-viewer id='scene' scene='{{scene}}' selected='{{selected}}' model='[[model]]' mode="1">
      <things-scene-layer type="selection-layer"></things-scene-layer>
      <things-scene-layer type="modeling-layer"></things-scene-layer>
      <things-scene-layer type="guide-layer"></things-scene-layer>
      <things-scene-layer type="tag-layer"></things-scene-layer>
      <things-scene-handler type="text-editor"></things-scene-handler>
      <things-scene-handler type="move-handler"></things-scene-handler>
    </things-scene-viewer>

    <p>Properties</p>
    <things-editor-properties id='props' target="{{props}}" props="[[selected.0.nature.properties]]">
    </things-editor-properties>

  </template>

  <script>
    window.addEventListener('WebComponentsReady', function (e) {
      var app = document.querySelector('#app')

      app.props = {}

      setTimeout(function () {
        app.scene.on('selected', function (after) {
          var target = after[0]
          var props = {}
          if (target) {
            target.nature.properties.forEach(function (prop) {
              var property = prop.property
              props[property] = target.model[property]
            })
          }
          app.props = props
        });
      });

      app.$.props.addEventListener('change', function () {
        app.selected[0].set(app.props)
      });

      app.model = {
        width: 800,
        height: 600,
        components: [{
          type: 'rect',
          id: 'rect',
          top: 50,
          left: 50,
          width: 280,
          height: 20,
          fontSize: 20,
          fillStyle: '#00ff00',
          fontColor: '#FF0000',
          strokeStyle: '#000',
          lineWidth: 5
        }, {
          type: 'form',
          top: 100,
          left: 50,
          width: 700,
          height: 450,
          backgroundColor: 'transparent',
          fillStyle: '#00ff00',
          fontColor: '#FF0000',
          strokeStyle: '#000',
          lineWidth: 5,
          htmlConfig: {
            method: 'GET',
            action: '/demo/service.json',
            name: 'search',
          },
          components: [{
            type: 'input',
            id: 'input-01',
            top: 50,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            backgroundColor: 'transparent',
            fillStyle: '#00ff00',
            fontColor: '#FF0000',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 40,
            htmlConfig: {
              name: 'text',
              type: 'text'
            }
          }, {
            type: 'input',
            top: 50,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: '1234567890',
            htmlConfig: {
              name: 'password',
              type: 'password'
            }
          }, {
            type: 'input',
            top: 100,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 'heartyoh@hatiolab.com',
            htmlConfig: {
              name: 'email',
              type: 'email'
            }
          }, {
            type: 'input',
            top: 100,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 'form',
            htmlConfig: {
              name: 'search',
              type: 'search'
            }
          }, {
            type: 'input',
            top: 150,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            htmlConfig: {
              name: 'datetime',
              type: 'datetime'
            }
          }, {
            type: 'input',
            top: 150,
            left: 350,
            width: 100,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 'SUBMIT',
            htmlConfig: {
              type: 'submit'
            }
          }, {
            type: 'input',
            top: 200,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 2017,
            htmlConfig: {
              name: 'number',
              type: 'number'
            }
          }, {
            type: 'input',
            top: 200,
            left: 350,
            width: 100,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: '#FF0000',
            htmlConfig: {
              name: 'color',
              type: 'color'
            }
          }, {
            type: 'input',
            top: 250,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 34,
            htmlConfig: {
              name: 'range',
              type: 'range'
            }
          }, {
            type: 'input',
            top: 250,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: '04:56',
            htmlConfig: {
              name: 'time',
              type: 'time'
            }
          }, {
            type: 'input',
            top: 300,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            htmlConfig: {
              name: 'datetime-local',
              type: 'datetime-local'
            }
          }, {
            type: 'input',
            top: 300,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            htmlConfig: {
              name: 'date',
              type: 'date'
            }
          }, {
            type: 'input',
            top: 350,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            htmlConfig: {
              name: 'month',
              type: 'month'
            }
          }, {
            type: 'input',
            top: 350,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: '#00ff00',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            htmlConfig: {
              name: 'week',
              type: 'week'
            }
          }]
        }]
      }
    });
  </script>
</body>

</html>