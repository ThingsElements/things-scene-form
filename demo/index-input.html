<!--
@license
Copyright Â© HatioLab Inc. All rights reserved.
-->
<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>form Demo</title>
  <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>

  <link rel="import" href="../../things-scene-viewer/things-scene-viewer.html">
  <link rel="import" href="../../things-scene-viewer/things-scene-layer.html">
  <link rel="import" href="../../things-scene-viewer/things-scene-handler.html">

  <link rel="import" href="../../things-designer-elements/things-editor-properties.html">

  <link rel="import" href="./things-scene-form.html">

  <link rel="import" href="./things-theme.html">

  <style is="custom-style" include="things-theme">
    things-scene-viewer {
      display: block;
      width: 1200px;
      height: 600px;
    }

    input {
      background-color: white;
    }
  </style>
</head>

<body unresolved>

  <template is="dom-bind" id="app">
    <p>An example of <code>&lt;form&gt;</code>:</p>

    <things-scene-viewer id='scene' scene='{{scene}}' selected='{{selected}}' model='[[model]]' mode="1" fit="ratio">
      <things-scene-layer type="selection-layer"></things-scene-layer>
      <things-scene-layer type="modeling-layer"></things-scene-layer>
      <things-scene-layer type="guide-layer"></things-scene-layer>
      <things-scene-layer type="tag-layer"></things-scene-layer>
      <things-scene-handler type="text-editor"></things-scene-handler>
      <things-scene-handler type="move-handler"></things-scene-handler>
    </things-scene-viewer>

    <p>Properties</p>
    <things-editor-properties id='props' target="{{props}}" props="[[selected.0.nature.properties]]">
    </things-editor-properties>

    <p>
      <button onClick="create()">Create</button>
      <button onClick="dispose()">Dispose</button>
      <button onClick="change()">change</button>
      <button onClick="undo()">undo</button>
      <button onClick="redo()">redo</button>
      <button onClick="fullscreen()">Full-Screen</button>
      <button onClick="grouping()">grouping</button>
      <button onClick="ungrouping()">ungrouping</button>
      <button onClick="distribute_horizontal()">distribute_horizontal</button>
      <button onClick="distribute_vertical()">distribute_vertical</button>
    </p>

  </template>

  <script>
    window.addEventListener('WebComponentsReady', function (e) {
      var app = document.querySelector('#app')

      app.props = {}

      setTimeout(function () {
        app.scene.on('selected', function (after) {
          var target = after[0]
          var props = {}
          if (target) {
            target.nature.properties.forEach(function (prop) {
              var property = prop.property
              props[property] = target.model[property]
            })
          }
          app.props = props
        });
      });

      app.$.props.addEventListener('change', function () {
        app.selected[0].set(app.props)
      });

      app.model = {
        width: 800,
        height: 600,
        scale: {
          x: 2,
          y: 3
        },
        components: [{
          type: 'rect',
          id: 'a',
          top: 50,
          left: 50,
          width: 280,
          height: 30,
          fontSize: 20,
          text: '#{data}',
          fillStyle: 'lightgray',
          fontColor: '#FF0000',
          strokeStyle: '#000',
          lineWidth: 5
        }, {
          type: 'form',
          top: 100,
          left: 50,
          width: 700,
          height: 480,
          backgroundColor: 'transparent',
          fillStyle: 'lightgray',
          fontColor: '#FF0000',
          strokeStyle: '#000',
          lineWidth: 5,
          method: 'GET',
          action: '/demo/service.json',
          name: 'search',
          authorization: 'Bearer HXXXXXXXX',
          components: [{
            type: 'input',
            id: 'input-01',
            top: 50,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            backgroundColor: 'red',
            fillStyle: 'lightgray',
            fontColor: '#FF0000',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 40,
            textAlign: 'left',
            name: 'text',
            inputType: 'text'
          }, {
            type: 'input',
            top: 50,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: '1234567890',
            name: 'password',
            inputType: 'password'
          }, {
            type: 'input',
            top: 100,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 'heartyoh@hatiolab.com',
            name: 'email',
            inputType: 'email'
          }, {
            type: 'input',
            top: 100,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            rotation: 0.5,
            value: 'form',
            name: 'search',
            inputType: 'search'
          }, {
            type: 'input',
            top: 150,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            name: 'datetime',
            inputType: 'datetime'
          }, {
            type: 'input',
            top: 150,
            left: 350,
            width: 100,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 'SUBMIT',
            inputType: 'submit'
          }, {
            type: 'input',
            top: 200,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 2017,
            name: 'number',
            inputType: 'number'
          }, {
            type: 'input',
            top: 200,
            left: 350,
            width: 100,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: '#FF0000',
            name: 'color',
            inputType: 'color'
          }, {
            type: 'input',
            top: 250,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: 34,
            name: 'range',
            inputType: 'range'
          }, {
            type: 'input',
            top: 250,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            value: '04:56',
            name: 'time',
            inputType: 'time'
          }, {
            type: 'input',
            top: 300,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            name: 'datetime-local',
            inputType: 'datetime-local'
          }, {
            type: 'input',
            top: 300,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            name: 'date',
            inputType: 'date'
          }, {
            type: 'input',
            top: 350,
            left: 50,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            name: 'month',
            inputType: 'month'
          }, {
            type: 'input',
            top: 350,
            left: 350,
            width: 280,
            height: 40,
            fontSize: 20,
            fillStyle: 'lightgray',
            fontColor: 'navy',
            strokeStyle: '#000',
            lineWidth: 5,
            name: 'week',
            inputType: 'week'
          }, {
            type: 'fieldset',
            top: 400,
            left: 50,
            width: 260,
            height: 40,
            components: [{
              type: 'input-checkbox',
              text: 'CA',
              top: 10,
              left: 0,
              width: 80,
              height: 20,
              fontSize: 20,
              fillStyle: 'lightgray',
              fontColor: 'navy',
              strokeStyle: '#000',
              lineWidth: 5,
              name: 'xx',
              value: true
            }, {
              type: 'input-checkbox',
              text: 'CB',
              top: 10,
              left: 100,
              width: 80,
              height: 20,
              fontSize: 20,
              fillStyle: 'lightgray',
              fontColor: 'navy',
              strokeStyle: '#000',
              lineWidth: 5,
              name: 'yy',
              value: true
            }, {
              type: 'input-checkbox',
              text: 'CC',
              top: 10,
              left: 200,
              width: 80,
              height: 20,
              fontSize: 20,
              fillStyle: 'lightgray',
              fontColor: 'navy',
              strokeStyle: '#000',
              lineWidth: 5,
              name: 'zz',
              value: true
            }]
          }, {
            type: 'fieldset',
            top: 400,
            left: 350,
            width: 260,
            height: 40,
            components: [{
              type: 'input-radio',
              text: 'A',
              top: 10,
              left: 10,
              width: 40,
              height: 40,
              fontSize: 20,
              fillStyle: 'lightgray',
              fontColor: 'navy',
              strokeStyle: '#000',
              lineWidth: 5,
              name: 'radio-group-01',
              value: true
            }, {
              type: 'input-radio',
              text: 'B',
              top: 10,
              left: 100,
              width: 40,
              height: 40,
              fontSize: 20,
              fillStyle: 'lightgray',
              fontColor: 'navy',
              strokeStyle: '#000',
              lineWidth: 5,
              name: 'radio-group-01',
              value: true
            }, {
              type: 'input-radio',
              text: 'C',
              top: 10,
              left: 200,
              width: 40,
              height: 40,
              fontSize: 20,
              fillStyle: 'lightgray',
              fontColor: 'navy',
              strokeStyle: '#000',
              lineWidth: 5,
              name: 'radio-group-02',
              value: true
            }, {
              type: 'input-radio',
              text: 'D',
              top: 400,
              left: 550,
              width: 40,
              height: 40,
              fontSize: 20,
              fillStyle: 'lightgray',
              fontColor: 'navy',
              strokeStyle: '#000',
              lineWidth: 5,
              name: 'radio-group-02',
              value: true
            }]
          }]
        }]
      }
    });

    function undo() {
      app.scene.undo()
    }

    function redo() {
      app.scene.redo()
    }

    function change() {
      app.scene.target_element.addEventListener('click', function(e) {
        app.scene.change('barcode', {
          text: '0987654321',
          alttext: '123456789012345'
        })
      });
    }

    function fullscreen() {
      app.scene.fullscreen('ratio')
    }

    function distribute_horizontal(){
      app.scene.distribute('HORIZONTAL')
    }

    function distribute_vertical(){
      app.scene.distribute('VERTICAL')
    }
    
  </script>
</body>

</html>